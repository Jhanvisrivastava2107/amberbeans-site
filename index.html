<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amber Beans in a Plate - Handmade Pipe Cleaner Creations</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 50%, #fd79a8 100%);
            color: #2d3436;
            line-height: 1.6;
        }

        h1, h2, h3, h4 {
            font-family: 'Fredoka', cursive;
        }

        header {
            background: linear-gradient(135deg, #a29bfe 0%, #fd79a8 100%);
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header h1 {
            color: white;
            font-size: 2.5rem;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        header p {
            color: #fff;
            font-size: 1.2rem;
            font-style: italic;
        }

        nav {
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 999;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        nav a {
            color: #6c5ce7;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: color 0.3s;
        }

        nav a:hover {
            color: #fd79a8;
        }

        .bag-icon {
            position: relative;
            cursor: pointer;
            font-size: 1.5rem;
            color: #6c5ce7;
            transition: color 0.3s;
        }

        .bag-icon:hover {
            color: #fd79a8;
        }

        .bag-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #fd79a8;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
            font-family: 'Fredoka', cursive;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .hero {
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(253,121,168,0.2));
            border-radius: 20px;
            padding: 3rem;
            text-align: center;
            margin: 2rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .hero h2 {
            color: #6c5ce7;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero p {
            font-size: 1.3rem;
            color: #636e72;
            margin-bottom: 1.5rem;
        }

        .cta-button {
            background: linear-gradient(135deg, #fd79a8, #a29bfe);
            color: white;
            padding: 1rem 2.5rem;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s, box-shadow 0.3s;
            font-family: 'Fredoka', cursive;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .section {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .section h2 {
            color: #6c5ce7;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            font-weight: 700;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 3px solid transparent;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            border-color: #fd79a8;
        }

        .product-image {
            width: 100%;
            height: 320px;
            overflow: hidden;
            background: #f8f9fa;
            position: relative;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-slider {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .slider-images {
            display: flex;
            transition: transform 0.3s ease;
            height: 100%;
        }

        .slider-images img {
            min-width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .slider-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.9);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            color: #6c5ce7;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .slider-btn:hover {
            background: white;
        }

        .slider-btn.prev {
            left: 10px;
        }

        .slider-btn.next {
            right: 10px;
        }

        .slider-dots {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .slider-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.6);
            cursor: pointer;
            transition: background 0.3s;
        }

        .slider-dot.active {
            background: white;
            box-shadow: 0 0 8px rgba(255,255,255,0.8);
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-info h3 {
            color: #6c5ce7;
            margin-bottom: 0.5rem;
            font-size: 1.4rem;
            font-weight: 600;
        }

        .price {
            font-size: 1.8rem;
            color: #fd79a8;
            font-weight: 700;
            margin: 1rem 0;
            font-family: 'Fredoka', cursive;
        }

        .product-details {
            border-top: 2px solid #f0f0f0;
            padding-top: 1rem;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #636e72;
        }

        .product-details p {
            margin: 0.5rem 0;
        }

        .product-details strong {
            color: #2d3436;
        }

        .product-details a {
            color: #6c5ce7;
            text-decoration: none;
            font-weight: 600;
        }

        .product-details a:hover {
            color: #fd79a8;
        }

        .order-button, .add-to-bag-button {
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            width: 100%;
            font-weight: 600;
            margin-top: 1rem;
            transition: transform 0.2s;
            font-family: 'Fredoka', cursive;
            font-size: 1rem;
        }

        .order-button {
            background: linear-gradient(135deg, #74b9ff, #a29bfe);
        }

        .add-to-bag-button {
            background: linear-gradient(135deg, #55efc4, #00b894);
        }

        .order-button:hover, .add-to-bag-button:hover {
            transform: scale(1.05);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: white;
            margin: 2% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 900px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            animation: slideDown 0.3s;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #a29bfe 0%, #fd79a8 100%);
            padding: 2rem;
            border-radius: 20px 20px 0 0;
            position: relative;
        }

        .modal-header h2 {
            color: white;
            font-size: 2rem;
            margin: 0;
            font-weight: 700;
        }

        .close-modal {
            position: absolute;
            right: 2rem;
            top: 2rem;
            color: white;
            font-size: 2.5rem;
            font-weight: bold;
            cursor: pointer;
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .close-modal:hover {
            background: rgba(255,255,255,0.2);
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-image-section {
            margin-bottom: 2rem;
        }

        .modal-main-image {
            width: 100%;
            height: 500px;
            border-radius: 15px;
            overflow: hidden;
            background: #f8f9fa;
            position: relative;
        }

        .modal-main-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .modal-image-slider {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .modal-slider-images {
            display: flex;
            transition: transform 0.3s ease;
            height: 100%;
        }

        .modal-slider-images img {
            min-width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .modal-details {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .modal-price {
            font-size: 2.5rem;
            color: #fd79a8;
            font-weight: 700;
            font-family: 'Fredoka', cursive;
        }

        .modal-info {
            border-top: 2px solid #f0f0f0;
            padding-top: 1.5rem;
            font-size: 1rem;
            color: #636e72;
        }

        .modal-info p {
            margin: 0.8rem 0;
        }

        .modal-info strong {
            color: #2d3436;
            min-width: 100px;
            display: inline-block;
        }

        .modal-buttons {
            display: flex;
            gap: 1rem;
        }

        .modal-buttons button {
            flex: 1;
        }

        /* Bag Modal */
        .bag-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 2px solid #f0f0f0;
            align-items: center;
        }

        .bag-item:last-child {
            border-bottom: none;
        }

        .bag-item-image {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            overflow: hidden;
            flex-shrink: 0;
        }

        .bag-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .bag-item-details {
            flex: 1;
        }

        .bag-item-name {
            font-weight: 600;
            color: #6c5ce7;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
        }

        .bag-item-price {
            color: #fd79a8;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .bag-item-remove {
            background: #ff7675;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s;
        }

        .bag-item-remove:hover {
            transform: scale(1.05);
        }

        .bag-total {
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 15px;
            margin-top: 1rem;
            text-align: right;
        }

        .bag-total-amount {
            font-size: 2rem;
            color: #6c5ce7;
            font-weight: 700;
            font-family: 'Fredoka', cursive;
        }

        .empty-bag {
            text-align: center;
            padding: 3rem;
            color: #636e72;
        }

        .empty-bag-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
        }

        .contact-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            color: #6c5ce7;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1rem;
            border: 2px solid #dfe6e9;
            border-radius: 10px;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #a29bfe;
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .about-content {
            text-align: center;
            font-size: 1.2rem;
            color: #636e72;
            line-height: 1.8;
        }

        .instagram-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: #6c5ce7;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.2rem;
            margin-top: 1rem;
            transition: color 0.3s;
        }

        .instagram-link:hover {
            color: #fd79a8;
        }

        footer {
            background: linear-gradient(135deg, #a29bfe 0%, #fd79a8 100%);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }

        footer a {
            color: white;
            text-decoration: underline;
        }

        .success-message {
            background: #55efc4;
            color: #00b894;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            display: none;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8rem;
            }

            nav {
                padding: 0.5rem;
                gap: 1rem;
            }

            nav a {
                font-size: 1rem;
            }

            .hero h2 {
                font-size: 1.8rem;
            }

            .section h2 {
                font-size: 1.8rem;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
                margin: 5% auto;
            }

            .modal-main-image {
                height: 300px;
            }

            .modal-price {
                font-size: 2rem;
            }

            .modal-buttons {
                flex-direction: column;
            }

            .bag-item {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üåà Amber Beans in a Plate üåà</h1>
        <p>Handmade Pipe Cleaner Magic ‚ú®</p>
    </header>

    <nav>
        <a href="#home">Home</a>
        <a href="#products">Products</a>
        <a href="#about">About</a>
        <a href="#contact">Order</a>
        <div class="bag-icon" onclick="openBag()">
            üõçÔ∏è
            <span class="bag-count" id="bagCount">0</span>
        </div>
    </nav>

    <div class="container">
        <div class="hero" id="home">
            <h2>Welcome to Our Colorful World! üé®</h2>
            <p>Discover unique, handcrafted pipe cleaner creations - from adorable keychains to stunning flower pots!</p>
            <a href="#products" class="cta-button">Shop Our Creations</a>
        </div>

        <div class="section" id="products">
            <h2>Our Featured Creations üå∫</h2>
            <div class="products-grid" id="productsGrid">
                <!-- Products will be generated by JavaScript -->
            </div>
        </div>

        <div class="section" id="about">
            <h2>About Us üíù</h2>
            <div class="about-content">
                <p>Welcome to Amber Beans in a Plate! We specialize in creating unique, handmade items and bouquets using colorful pipe cleaners. Each piece is crafted with love and attention to detail, making them perfect gifts or decorations for any occasion.</p>
                <p>Our creations are durable, colorful, and bring smiles to everyone who sees them. From whimsical keychains to beautiful flower arrangements, we put our heart into every twist and bend!</p>
                <p>Follow us on Instagram for the latest creations and behind-the-scenes fun:</p>
                <a href="https://instagram.com/amberbeansinaplate" target="_blank" class="instagram-link">
                    üì∏ @amberbeansinaplate
                </a>
            </div>
        </div>

        <div class="section" id="contact">
            <h2>Place Your Order üìù</h2>
            <div id="successMessage" class="success-message">
                Thank you! Your message has been sent. We'll get back to you soon! üéâ
            </div>
            <form class="contact-form" id="contactForm" onsubmit="handleSubmit(event)">
                <div class="form-group">
                    <label for="name">Your Name *</label>
                    <input type="text" id="name" name="name" required>
                </div>

                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required>
                </div>

                <div class="form-group">
                    <label for="phone">Phone Number *</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>

                <div class="form-group">
                    <label for="message">Your Message / Order Details *</label>
                    <textarea id="message" name="message" required placeholder="Tell us what you'd like to order, color preferences, quantity, or any special requests!"></textarea>
                </div>

                <button type="submit" class="cta-button" style="width: 100%;">Send Order Request üöÄ</button>
            </form>
        </div>
    </div>

    <footer>
        <p>&copy; 2026 Amber Beans in a Plate | Handmade with Love üíñ</p>
        <p>Follow us: <a href="https://instagram.com/amberbeansinaplate" target="_blank">@amberbeansinaplate</a></p>
    </footer>

    <!-- Product Modal -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle"></h2>
                <button class="close-modal" onclick="closeModal('productModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-image-section">
                    <div class="modal-main-image" id="modalImageContainer"></div>
                </div>
                <div class="modal-details">
                    <div class="modal-price" id="modalPrice"></div>
                    <div class="modal-info">
                        <p><strong>Shipping:</strong> Ships within 7-14 days</p>
                        <p><strong>Support:</strong> DM me on IG <a href="https://instagram.com/amberbeansinaplate" target="_blank">@amberbeansinaplate</a> for queries</p>
                    </div>
                    <div class="modal-buttons">
                        <button class="add-to-bag-button" onclick="addToBagFromModal()">Add to Bag üõçÔ∏è</button>
                        <button class="order-button" onclick="orderFromModal()">Order Now</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bag Modal -->
    <div id="bagModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Your Bag üõçÔ∏è</h2>
                <button class="close-modal" onclick="closeModal('bagModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div id="bagItems"></div>
                <div id="bagTotalSection"></div>
                <button class="cta-button" onclick="checkoutFromBag()" id="checkoutBtn" style="width: 100%; margin-top: 1rem; display: none;">Proceed to Order</button>
            </div>
        </div>
    </div>

    <script>
        // Product data
        const products = [
            { id: 1, name: "Pengu Keychain", price: 200, images: ["product1.jpeg"] },
            { id: 2, name: "Tulip Pot", price: 500, images: ["product2.jpeg"] },
            { id: 3, name: "Lavender Keychain", price: 60, images: ["product3.jpeg"] },
            { id: 4, name: "Cake Slice Keychain", price: 120, images: ["product4.jpeg"] },
            { id: 5, name: "Daisy Clip", price: 50, images: ["product5.jpeg"] },
            { id: 6, name: "Sprout Clip", price: 35, images: ["product6.jpeg"] },
            { id: 7, name: "Daisy Keychain", price: 50, images: ["product7.jpeg"] },
            { id: 8, name: "Shaky Heart Clip", price: 35, images: ["product8.jpeg"] },
            { id: 9, name: "Luffy Keychain", price: 80, images: ["product9.jpeg"] },
            { id: 10, name: "Sunflower Keychain", price: 100, images: ["product10.jpeg"] },
            { id: 11, name: "Mini Sunflower Pot", price: 320, images: ["product11.jpeg"] },
            { id: 12, name: "Mini Tulip Pot", price: 320, images: ["product12.jpeg"] },
            { id: 13, name: "Tangled Keychain", price: 150, images: ["product13.jpeg"] },
            { id: 14, name: "Gerbera Pot", price: 350, images: ["product14.jpeg"] },
            { id: 15, name: "Lavender Pot", price: 370, images: ["product15.jpeg"] },
            { id: 16, name: "Daisy Flower Pot", price: 320, images: ["product16.jpeg"] },
            { id: 17, name: "White Lily N Bud Pot", price: 370, images: ["product17.jpeg"] },
            { id: 18, name: "Love Bear Pot", price: 500, images: ["product18.jpeg"] },
            { id: 19, name: "Tri-Colour Lily Pot", price: 350, images: ["product19.jpeg"] },
            { id: 20, name: "Cute Bear Keychain", price: 95, images: ["product20.jpeg"] },
            { id: 21, name: "Double Bow Keychain", price: 55, images: ["product21.jpeg"] },
            { id: 22, name: "Rose Flower Pot", price: 320, images: ["product22.jpeg", "product22-2.jpeg", "product22-3.jpeg"] },
            { id: 23, name: "Whimsy in Me Flower Pot", price: 320, images: ["product23.jpeg"] },
            { id: 24, name: "Sunflower Pot", price: 320, images: ["product24.jpeg", "product24-2.jpeg"] },
            { id: 25, name: "Initial Keychain (one)", price: 80, images: ["product25.jpeg", "product25-2.jpeg"] },
            { id: 26, name: "Cherry Keychain Variant", price: 40, images: ["product26.jpeg"] },
            { id: 27, name: "Mini Tulip Keychain", price: 40, images: ["product27.jpeg"] },
            { id: 28, name: "Triple The Love Keychain", price: 50, images: ["product28.jpeg"] },
            { id: 29, name: "Angry Clip", price: 60, images: ["product29.jpeg"] },
            { id: 30, name: "Pokeballs", price: 100, images: ["product30.jpeg"] },
            { id: 31, name: "Lucky Charm Keychain üçÄ", price: 40, images: ["product31.jpeg", "product31-2.jpeg", "product31-3.jpeg", "product31-4.jpeg"] },
            { id: 32, name: "Matching Froggy Keychain (Pair) üíöüíö", price: 120, images: ["product32.jpeg"] },
            { id: 33, name: "Custom Orders", price: "Varies", images: [], isCustom: true }
        ];

        // Shopping bag
        let shoppingBag = [];

        // Slider positions for cards
        const cardSliderPositions = {};
        const modalSliderPosition = { current: 0, total: 1 };

        // Update bag count
        function updateBagCount() {
            document.getElementById('bagCount').textContent = shoppingBag.length;
        }

        // Add to bag
        function addToBag(product) {
            if (product.isCustom) {
                alert('Please contact us for custom orders!');
                return;
            }
            
            const existingItem = shoppingBag.find(item => item.id === product.id);
            if (existingItem) {
                alert(`${product.name} is already in your bag!`);
                return;
            }
            
            shoppingBag.push(product);
            updateBagCount();
            
            // Show success animation
            const bagIcon = document.querySelector('.bag-icon');
            bagIcon.style.transform = 'scale(1.3)';
            setTimeout(() => {
                bagIcon.style.transform = 'scale(1)';
            }, 300);
            
            alert(`${product.name} added to bag! üõçÔ∏è`);
        }

        // Remove from bag
        function removeFromBag(productId) {
            shoppingBag = shoppingBag.filter(item => item.id !== productId);
            updateBagCount();
            renderBag();
        }

        // Open bag modal
        function openBag() {
            renderBag();
            document.getElementById('bagModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Render bag contents
        function renderBag() {
            const bagItemsContainer = document.getElementById('bagItems');
            const bagTotalSection = document.getElementById('bagTotalSection');
            const checkoutBtn = document.getElementById('checkoutBtn');
            
            if (shoppingBag.length === 0) {
                bagItemsContainer.innerHTML = `
                    <div class="empty-bag">
                        <div class="empty-bag-icon">üõçÔ∏è</div>
                        <h3>Your bag is empty</h3>
                        <p>Add some beautiful creations to your bag!</p>
                    </div>
                `;
                bagTotalSection.innerHTML = '';
                checkoutBtn.style.display = 'none';
                return;
            }
            
            // Render items
            bagItemsContainer.innerHTML = shoppingBag.map(item => `
                <div class="bag-item">
                    <div class="bag-item-image">
                        <img src="${item.images[0]}" alt="${item.name}">
                    </div>
                    <div class="bag-item-details">
                        <div class="bag-item-name">${item.name}</div>
                        <div class="bag-item-price">‚Çπ${item.price}</div>
                    </div>
                    <button class="bag-item-remove" onclick="removeFromBag(${item.id})">Remove</button>
                </div>
            `).join('');
            
            // Calculate total
            const total = shoppingBag.reduce((sum, item) => sum + item.price, 0);
            
            bagTotalSection.innerHTML = `
                <div class="bag-total">
                    <div style="color: #636e72; margin-bottom: 0.5rem;">Total Amount:</div>
                    <div class="bag-total-amount">‚Çπ${total}</div>
                </div>
            `;
            
            checkoutBtn.style.display = 'block';
        }

        // Checkout from bag
        function checkoutFromBag() {
            if (shoppingBag.length === 0) return;
            
            const itemsList = shoppingBag.map(item => `${item.name} (‚Çπ${item.price})`).join('\n');
            const total = shoppingBag.reduce((sum, item) => sum + item.price, 0);
            
            document.getElementById('message').value = `I would like to order the following items:\n\n${itemsList}\n\nTotal: ‚Çπ${total}\n\nPlease confirm availability and shipping details.`;
            
            closeModal('bagModal');
            document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => {
                document.getElementById('name').focus();
            }, 500);
        }

        // Generate product cards
        function generateProducts() {
            const grid = document.getElementById('productsGrid');
            
            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.onclick = () => openProductModal(product);
                
                let imageHTML = '';
                if (product.isCustom) {
                    imageHTML = `
                        <div class="product-image" style="background: linear-gradient(135deg, #a29bfe 0%, #ffeaa7 100%); display: flex; align-items: center; justify-content: center; font-size: 5rem;">
                            üéÅ
                        </div>
                    `;
                } else if (product.images.length > 1) {
                    cardSliderPositions[product.id] = 0;
                    imageHTML = `
                        <div class="product-image">
                            <div class="image-slider" id="card-slider-${product.id}">
                                <div class="slider-images">
                                    ${product.images.map(img => `<img src="${img}" alt="${product.name}">`).join('')}
                                </div>
                                <button class="slider-btn prev" onclick="event.stopPropagation(); changeCardSlide(${product.id}, -1)">‚Äπ</button>
                                <button class="slider-btn next" onclick="event.stopPropagation(); changeCardSlide(${product.id}, 1)">‚Ä∫</button>
                                <div class="slider-dots">
                                    ${product.images.map((_, i) => `<span class="slider-dot ${i === 0 ? 'active' : ''}" onclick="event.stopPropagation(); setCardSlide(${product.id}, ${i})"></span>`).join('')}
                                </div>
                            </div>
                        </div>
                    `;
                } else {
                    imageHTML = `
                        <div class="product-image">
                            <img src="${product.images[0]}" alt="${product.name}">
                        </div>
                    `;
                }
                
                const priceText = typeof product.price === 'number' ? `‚Çπ${product.price}` : `Price ${product.price}`;
                
                card.innerHTML = `
                    ${imageHTML}
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <div class="price">${priceText}</div>
                        <div class="product-details">
                            <p><strong>Shipping:</strong> Ships within 7-14 days</p>
                            <p><strong>Support:</strong> DM me on IG <a href="https://instagram.com/amberbeansinaplate" target="_blank" onclick="event.stopPropagation()">@amberbeansinaplate</a> for queries</p>
                        </div>
                        <button class="add-to-bag-button" onclick="event.stopPropagation(); addToBag(products[${product.id - 1}])">Add to Bag üõçÔ∏è</button>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        // Card slider functions
        function changeCardSlide(productId, direction) {
            const product = products.find(p => p.id === productId);
            const slider = document.getElementById(`card-slider-${productId}`);
            const images = slider.querySelector('.slider-images');
            const dots = slider.querySelectorAll('.slider-dot');
            
            cardSliderPositions[productId] += direction;
            
            if (cardSliderPositions[productId] < 0) {
                cardSliderPositions[productId] = product.images.length - 1;
            } else if (cardSliderPositions[productId] >= product.images.length) {
                cardSliderPositions[productId] = 0;
            }
            
            images.style.transform = `translateX(-${cardSliderPositions[productId] * 100}%)`;
            
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === cardSliderPositions[productId]);
            });
        }

        function setCardSlide(productId, index) {
            const slider = document.getElementById(`card-slider-${productId}`);
            const images = slider.querySelector('.slider-images');
            const dots = slider.querySelectorAll('.slider-dot');
            
            cardSliderPositions[productId] = index;
            images.style.transform = `translateX(-${index * 100}%)`;
            
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
        }

        // Product modal functions
        function openProductModal(product) {
            const modal = document.getElementById('productModal');
            const title = document.getElementById('modalTitle');
            const price = document.getElementById('modalPrice');
            const imageContainer = document.getElementById('modalImageContainer');
            
            title.textContent = product.name;
            price.textContent = typeof product.price === 'number' ? `‚Çπ${product.price}` : `Price ${product.price}`;
            
            if (product.isCustom) {
                imageContainer.innerHTML = `
                    <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #a29bfe 0%, #ffeaa7 100%); font-size: 8rem;">
                        üéÅ
                    </div>
                `;
            } else if (product.images.length > 1) {
                modalSliderPosition.current = 0;
                modalSliderPosition.total = product.images.length;
                imageContainer.innerHTML = `
                    <div class="modal-image-slider" id="modal-slider">
                        <div class="modal-slider-images">
                            ${product.images.map(img => `<img src="${img}" alt="${product.name}">`).join('')}
                        </div>
                        <button class="slider-btn prev" onclick="changeModalSlide(-1)">‚Äπ</button>
                        <button class="slider-btn next" onclick="changeModalSlide(1)">‚Ä∫</button>
                        <div class="slider-dots">
                            ${product.images.map((_, i) => `<span class="slider-dot ${i === 0 ? 'active' : ''}" onclick="setModalSlide(${i})"></span>`).join('')}
                        </div>
                    </div>
                `;
            } else {
                imageContainer.innerHTML = `<img src="${product.images[0]}" alt="${product.name}">`;
            }
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            modal.dataset.productId = product.id;
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function changeModalSlide(direction) {
            const slider = document.getElementById('modal-slider');
            const images = slider.querySelector('.modal-slider-images');
            const dots = slider.querySelectorAll('.slider-dot');
            
            modalSliderPosition.current += direction;
            
            if (modalSliderPosition.current < 0) {
                modalSliderPosition.current = modalSliderPosition.total - 1;
            } else if (modalSliderPosition.current >= modalSliderPosition.total) {
                modalSliderPosition.current = 0;
            }
            
            images.style.transform = `translateX(-${modalSliderPosition.current * 100}%)`;
            
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === modalSliderPosition.current);
            });
        }

        function setModalSlide(index) {
            const slider = document.getElementById('modal-slider');
            const images = slider.querySelector('.modal-slider-images');
            const dots = slider.querySelectorAll('.slider-dot');
            
            modalSliderPosition.current = index;
            images.style.transform = `translateX(-${index * 100}%)`;
            
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
        }

        function addToBagFromModal() {
            const modal = document.getElementById('productModal');
            const productId = parseInt(modal.dataset.productId);
            const product = products.find(p => p.id === productId);
            addToBag(product);
        }

        function orderFromModal() {
            const modal = document.getElementById('productModal');
            const productId = parseInt(modal.dataset.productId);
            const product = products.find(p => p.id === productId);
            
            if (product.isCustom) {
                document.getElementById('message').value = 'I would like to discuss a custom order. Please contact me with details about customization options.';
            } else {
                document.getElementById('message').value = `I would like to order: ${product.name} (‚Çπ${product.price})`;
            }
            
            closeModal('productModal');
            document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => {
                document.getElementById('name').focus();
            }, 500);
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        // Form submission
        function handleSubmit(event) {
            event.preventDefault();
            
            const successMessage = document.getElementById('successMessage');
            successMessage.style.display = 'block';
            
            document.getElementById('contactForm').reset();
            shoppingBag = [];
            updateBagCount();
            
            successMessage.scrollIntoView({ behavior: 'smooth' });
            
            setTimeout(() => {
                successMessage.style.display = 'none';
            }, 5000);
        }

        // Smooth scrolling for nav
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Initialize
        generateProducts();
        updateBagCount();
    </script>
</body>
</html>
